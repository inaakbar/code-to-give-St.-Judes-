<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />
    <link rel="stylesheet" href="/public/style/style.css" />
  </head>
  <script type="text/javascript" src="multilang.js"></script>
    <script type="text/javascript" src="language-change.js"></script>
  <script type="text/javascript">
    var multilang;
    var item = localStorage.getItem("global_lang")
    console.log(item)
    function onLoad() {
      //console.log(JSON.parse(localStorage.getItem("global_lang")))
      // create object, load JSON file, default to 'nl', and callback to initList when ready loading
      multilang = new MultiLang('languages.json', item, this.initList);

      // alternatively
      //multilang = new MultiLang('languages.json', null, this.initList); // default to browser language
      //multilang = new MultiLang('languages.json'); // only load JSON, no callback
    }
    function langSelectChange(sel) {
      // console.log(document.getElementById("lang").value);
      // switch to selected language code

       localStorage.setItem('global_lang', sel.value);
      multilang.setLanguage(sel.value);
      // refresh labels
      refreshLabels();
    }

    function initList() {
      // get language list element
      var list = document.getElementsByName("listlanguages")[0];
      // clear all options
      list.options.length = 0;

      // add all available languages
      for (var key in multilang.phrases) {
        // create new language option
        var lang = document.createElement("option");
        lang.value = key;
        lang.innerHTML = multilang.phrases[key]['langdesc'];

        // append to select element
        list.appendChild(lang);
      }

      refreshLabels();
    }

    function refreshLabels() {

      // loop through all document elements
      var allnodes = document.body.getElementsByTagName("*");

      for (var i = 0, max = allnodes.length; i < max; i++) {
        // get id current elements
        var idname = allnodes[i].id;
        // if id exists, set get id current elements
        if (idname != '') {
          allnodes[i].textContent = multilang.get(idname);
        };
      };
    }
  </script>

  <body class="userLogin" onload="onLoad()">

    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div class="container">
        <form action="" method="post">
          <button type="submit" name="contactUs" formaction="/" class="btn btn-outline-light btn-lg nav-btn">
            <img src="/public/logo-removebg.png" alt="logo" width="45" height="45" class="d-inline-block align-top" />
            <span id="logo" class="logoSpan">St. Judes for Life</span>
          </button>
        </form>
        <button class="navbar-toggler nav-btn" type="button" data-bs-toggle="collapse"
          data-bs-target="#toggleMobileMenu" aria-controls="toggleMobileMenu" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse">
          <form action="" method="post" class="navbar-form">
            <ul class="navbar-nav ms-auto text-center">
              <li class="nav-item">
                <!-- <a href="home.ejs" class="nav-link active">About Us</a> -->
                <button id="home" type="submit" name="home" formaction="/" class="btn btn-outline-light nav-btn">
                  Home
                </button>
              </li>
              <li class="nav-item">
                <!-- <a href="home.ejs" class="nav-link active">About Us</a> -->
                <button id="about-us" type="submit" name="aboutUs" formaction="/" class="btn btn-outline-light nav-btn">
                  About Us
                </button>
              </li>
              <li class="nav-item">
                <button id="contact-us" type="submit" name="contactUs" formaction="/"
                  class="btn btn-outline-light nav-btn">
                  Contact Us
                </button>
              </li>
              <li class="nav-item dropdown">
                <!-- <a
                      href="#"
                      class="nav-link dropdown-toggle"
                      id="navbarDropdown"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      Languages
                    </a> -->
                <!-- <button
                      href="#"
                      class="dropdown-toggle btn btn-outline-light nav-btn"
                      id="navbarDropdown"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      Languages
                    </button>

                    <ul
                      class="dropdown-menu text-center bg-dark"
                      aria-labelledby="navbarDropdown"
                    >
                        <li>
                            <button type="submit" name="aboutUs" formaction="/"
                            class="btn btn-outline-light nav-btn"
                        >
                            English
                        </button>
                        </li>
                        <li>
                            <button type="submit" name="aboutUs" formaction="/"
                            class="btn btn-outline-light nav-btn"
                        >
                            Hindi
                        </button>
                        </li>
                    </ul> -->
                <select name="listlanguages" onchange="langSelectChange(this)">
                </select>
          </form>
          </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="text-center HomeLogin">
      <form class="loginForm">
        <img src="/public/logo.jpg" alt="Logo" height="72" class="mt-4 mb-3" />

        <div id="admin-login" class="h3 mb-3 font-weight-normal">Sign as Admin</div>

        <label for="UID" class="visually-hidden">Unique Id</label>
        <input type="text" name="" id="UID" placeholder="Unique Id" class="form-control" pattern="^[a-zA-Z0-9]*$"
          required autofocus>

        <label for="password" class="visually-hidden">Password</label>
        <input id="password" type="password" name="" placeholder="Password" class="form-control" pattern="^[0-9]{8}" required
          autofocus>
        <!-- pattern attr can be removed if regex written is js -->

        <div class="mt-3">
          <button id="sign-in" type="submit" class="btn btn-lg btn-outline-dark">Sign in</button>
        </div>
        <!-- <a href="#">Forgot Password</a> -->

      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"></script>
  </body>

</html>